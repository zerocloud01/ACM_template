# 博弈
<p style="color: yellow;font-size: 30px;"> 打表的艺术 </p>

**概念：** 博弈论是研究具有斗争或竞争性性质现象的数学理论和方法。

假设玩家的集合是 $N$，第 $i$ 个玩家的策略集合是 $\sum ^i$，游戏的结果集合为 $\Gamma$，关于每个玩家使用不同的策略，游戏产生对应的结果，及
$$ \pi: \prod_{i \in n} (\sum^i) \rightarrow \Gamma $$

## 组合游戏
> 博弈的子集
### 特征
- 两个玩家
- 一个状态集合
- 游戏规则是指明玩家在一个状态可以转移到其他状态
- 玩家轮流进行移动
- 如果当前处于某个状态，玩家根据规则无法移动，游戏结束。
- （**大部分时候**）无论玩家如何选择，游戏都会在有限步内结束。

**可以将组合游戏理解为有向无环图**

## Bash游戏
在 $N$ 堆石子中轮流取 $[1,M]$ 个，谁不能取输。

> 结论：当 $N = k \cdot (M+1)$ A输，否则A赢

### 状态集合：
$S = {0,1,2,\ldots,N}$，$i\rightarrow$ 当前剩 $i$ 个石子
### PN态
**P状态：**
- privious position
- 走到该状态的玩家胜利（离开失败）
- **不能**走到 **P状态** 的为P状态

**N状态：**
- nest position
- 离开该状态的玩家胜利
- **可以**走到 **P状态** 的为 N状态

<u>根据结束状态（无法走到其他状态位置）为 P 或 N来反向转移</u>

### （普适）解题方法
- 打表，找规律（DP，搜索）
- `guess`，猜结论
- 证明（理由PN态）

 
## Nim游戏
有 $N$ 堆石子，第 $i$ 堆有 $a_i$ 个。轮流取，每次取**一堆**中的**至少一个**，不能取的失败。
### P-N分析
> 默认 $x_1 \ge x_2 \ge x_3 \ge \cdots \ge x_n$

|n|x|P-N|
|-|:-:|-|
|0||P|
|1|$x$|N|
|2|$x_1 = x_2$</br>$x_1 \ne x_2$|P</br>N|
|3|
### 结论
- $x_1 \oplus x_2 \oplus x_3 \oplus \ldots \oplus x_n = 0$ **P态**
- $x_1 \oplus x_2 \oplus x_3 \oplus \ldots \oplus x_n > 0$ **N态**

**推导**
对于 $x_1 \oplus x_2 \oplus x_3 \oplus \ldots \oplus x_n = 0$，一次操作后不可能保持 $=0$，必然变为 $> 0$。
而对于 $x_1 \oplus x_2 \oplus x_3 \oplus \ldots \oplus x_n > 0$，只需让存有最高位 $1$ 的数，减去其他1组成的数，异或和就将变为 $0$


